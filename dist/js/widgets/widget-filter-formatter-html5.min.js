(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery){
/*! Widget: filter, html5 formatter functions - updated 7/17/2014 (v2.17.5) */
(p=>{var u=p.tablesorter||{},f=".compare-select",m=u.filterFormatter=p.extend({},u.filterFormatter,{addCompare:function(e,a,t){var n,i,l;t.compare&&p.isArray(t.compare)&&1<t.compare.length&&(n="",i=[f.slice(1)," "+f.slice(1),""],l=t.cellText?'<label class="'+i.join("-label")+a+'">'+t.cellText+"</label>":"",p.each(t.compare,function(e,a){n+="<option "+(t.selected===e?"selected":"")+">"+a+"</option>"}),e.wrapInner('<div class="'+i.join("-wrapper")+a+'" />').prepend(l+'<select class="'+i.join("")+a+'" />').find("select").append(n))},updateCompare:function(e,a,t){var a=a.val()||"",n=a.replace(/\s*?[><=]\s*?/g,""),i=a.match(/[><=]/g)||"";return t.compare&&(p.isArray(t.compare)&&(i=(i||[]).join("")||t.compare[t.selected||0]),e.find(f).val(i)),[a,n]},html5Number:function(l,a,e){function t(e,a){var t=!r.addToggle||l.find(".toggle").is(":checked"),n=l.find(".number").val(),i=(p.isArray(r.compare)?l.find(f).val()||r.compare[r.selected||0]:r.compare)||"",e=!o.$table[0].hasInitialized||e||r.delayed||"";d.val(!r.addToggle||t?(i||(r.exactMatch?"=":""))+n:"").trigger(a?"":"search",e).end().find(".number").val(n),l.find(".number").length&&(l.find(".number")[0].disabled=r.disabled||!t),c.length&&(c.find(".number").val(n)[0].disabled=r.disabled||!t,c.find(f).val(i),r.addToggle)&&(c.find(".toggle")[0].checked=t)}var n,d,r=p.extend({value:0,min:0,max:100,step:1,delayed:!0,disabled:!1,addToggle:!1,exactMatch:!1,cellText:"",compare:"",skipTest:!1},e),e=p('<input type="number" value="test">').appendTo(l),i=r.skipTest||"number"===e.attr("type")&&"test"!==e.val(),c=[],o=l.closest("table")[0].config;return e.remove(),i&&(n=r.addToggle?'<div class="button"><input id="html5button'+a+'" type="checkbox" class="toggle" /><label for="html5button'+a+'"></label></div>':"",n+='<input class="number" type="number" min="'+r.min+'" max="'+r.max+'" value="'+r.value+'" step="'+r.step+'" />',l.append(n+'<input type="hidden" />').find(".toggle, .number").bind("change",function(){t()}).closest("thead").find("th[data-column="+a+"]").addClass("filter-parsed").closest("table").bind("filterReset",function(){p.isArray(r.compare)&&l.add(c).find(f).val(r.compare[r.selected||0]),r.addToggle&&(l.find(".toggle")[0].checked=!1,c.length)&&(c.find(".toggle")[0].checked=!1),l.find(".number").val(r.value),setTimeout(function(){t()},0)}),d=l.find("input[type=hidden]").bind("change",function(){l.find(".number").val(this.value),t()}),o.$table.bind("filterFomatterUpdate",function(){var e=m.updateCompare(l,d,r)[0]||r.value;l.find(".number").val(((e||"")+"").replace(/[><=]/g,"")),t(!1,!0),u.filter.formatterUpdated(l,a)}),r.compare&&(m.addCompare(l,a,r),l.find(f).bind("change",function(){t()})),o.$table.bind("stickyHeadersInit",function(){(c=o.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(a).empty()).append(n).find(".toggle, .number").bind("change",function(){l.find(".number").val(p(this).val()),t()}),r.compare&&(m.addCompare(c,a,r),c.find(f).bind("change",function(){l.find(f).val(p(this).val()),t()})),t()}),t()),i?l.find('input[type="hidden"]'):p('<input type="search">')},html5Range:function(l,d,e){function t(e,a,t){e=(void 0===e?r.val():e).toString().replace(/[<>=]/g,"")||c.value;var n=(p.isArray(c.compare)?l.find(f).val()||c.compare[c.selected||0]:c.compare)||"",i=" ("+(n?n+e:e==c.min?c.allText:e)+")",a=!s.$table[0].hasInitialized||a||c.delayed||"";l.find("input[type=hidden]").val(n?n+e:e==c.min?"":(c.exactMatch?"=":"")+e).trigger(t?"":"search",a).end().find(".range").val(e),l.closest("thead").find("th[data-column="+d+"]").find(".curvalue").html(i),o.length&&(o.find(".range").val(e).end().find(f).val(n),o.closest("thead").find("th[data-column="+d+"]").find(".curvalue").html(i))}var r,c=p.extend({value:0,min:0,max:100,step:1,delayed:!0,valueToHeader:!0,exactMatch:!0,cellText:"",compare:"",allText:"all",skipTest:!1},e),e=p('<input type="range" value="test">').appendTo(l),a=c.skipTest||"range"===e.attr("type")&&"test"!==e.val(),o=[],s=l.closest("table")[0].config;return e.remove(),a&&(l.html('<input type="hidden"><input class="range" type="range" min="'+c.min+'" max="'+c.max+'" value="'+c.value+'" />').closest("thead").find("th[data-column="+d+"]").addClass("filter-parsed").find(".tablesorter-header-inner").append('<span class="curvalue" />'),r=l.find("input[type=hidden]").bind("change"+s.namespace+"filter",function(){var e=this.value,a=(p.isArray(c.compare)?l.find(f).val()||c.compare[c.selected||0]:c.compare)||"";e!==this.lastValue&&(this.lastValue=a?a+e:e==c.min?"":(c.exactMatch?"=":"")+e,this.value=this.lastValue,t(e))}),l.find(".range").bind("change",function(){t(this.value)}),s.$table.bind("filterFomatterUpdate",function(){var e=m.updateCompare(l,r,c)[0];l.find(".range").val(e),t(e,!1,!0),u.filter.formatterUpdated(l,d)}),c.compare&&(m.addCompare(l,d,c),l.find(f).bind("change",function(){t()})),s.$table.bind("stickyHeadersInit",function(){(o=s.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(d).empty()).html('<input class="range" type="range" min="'+c.min+'" max="'+c.max+'" value="'+c.value+'" />').find(".range").bind("change",function(){t(o.find(".range").val())}),t(),c.compare&&(m.addCompare(o,d,c),o.find(f).bind("change",function(){l.find(f).val(p(this).val()),t()}))}),l.closest("table").bind("filterReset",function(){p.isArray(c.compare)&&l.add(o).find(f).val(c.compare[c.selected||0]),setTimeout(function(){t(c.value,!1,!0)},0)}),t()),a?l.find('input[type="hidden"]'):p('<input type="search">')},html5Color:function(i,l,e){function a(e,a){var t=!0,n=" ("+(e=(void 0===e?d.val():e).toString().replace("=","")||r.value)+")";r.addToggle&&(t=i.find(".toggle").is(":checked")),i.find(".colorpicker").length&&(i.find(".colorpicker").val(e)[0].disabled=r.disabled||!t),d.val(t?e+(r.exactMatch?"=":""):"").trigger(!o.$table[0].hasInitialized||a?"":"search"),(r.valueToHeader?i.closest("thead").find("th[data-column="+l+"]").find(".curcolor"):i.find(".currentColor")).html(n),c.length&&(c.find(".colorpicker").val(e)[0].disabled=r.disabled||!t,r.addToggle&&(c.find(".toggle")[0].checked=t),(r.valueToHeader?c.closest("thead").find("th[data-column="+l+"]").find(".curcolor"):c.find(".currentColor")).html(n))}var t,d,r=p.extend({value:"#000000",disabled:!1,addToggle:!0,exactMatch:!0,valueToHeader:!1,skipTest:!1},e),e=p('<input type="color" >').appendTo(i),n=r.skipTest||"color"===e.attr("type")&&"test"!==e.val(),c=[],o=i.closest("table")[0].config;return e.remove(),n&&(t=""+l+Math.round(100*Math.random()),t='<div class="color-controls-wrapper">'+(r.addToggle?'<div class="button"><input id="colorbutton'+t+'" type="checkbox" class="toggle" /><label for="colorbutton'+t+'"></label></div>':"")+'<input type="hidden"><input class="colorpicker" type="color" />'+(r.valueToHeader?"":'<span class="currentColor">(#000000)</span>')+"</div>",i.html(t),r.valueToHeader&&i.closest("thead").find("th[data-column="+l+"]").find(".tablesorter-header-inner").append('<span class="curcolor" />'),i.find(".toggle, .colorpicker").bind("change",function(){a(i.find(".colorpicker").val())}),d=i.find("input[type=hidden]").bind("change"+o.namespace+"filter",function(){a(this.value)}),o.$table.bind("filterFomatterUpdate",function(){a(d.val(),!0),u.filter.formatterUpdated(i,l)}),i.closest("table").bind("filterReset",function(){r.addToggle&&(i.find(".toggle")[0].checked=!1),setTimeout(function(){a()},0)}),o.$table.bind("stickyHeadersInit",function(){(c=o.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(l)).html(t).find(".toggle, .colorpicker").bind("change",function(){a(c.find(".colorpicker").val())}),a(c.find(".colorpicker").val())}),a(r.value)),n?i.find('input[type="hidden"]'):p('<input type="search">')}})})(jQuery);return jQuery;}));
