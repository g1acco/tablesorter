(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery){
/*! Widget: alignChar - updated 2/7/2015 (v2.19.0) */
(x=>{var r=x.tablesorter;r.alignChar={init:function(n,i,t){i.$headers.filter("["+t.alignChar_charAttrib+"]").each(function(){var a=x(this),a={column:this.column,align:a.attr(t.alignChar_charAttrib),alignIndex:parseInt(a.attr(t.alignChar_indexAttrib)||0,10),adjust:parseFloat(a.attr(t.alignChar_adjustAttrib))||0};a.regex=new RegExp("\\"+a.align,"g"),void 0!==a.align&&(t.alignChar_savedVars[this.column]=a,r.alignChar.setup(n,i,t,a))})},setup:function(a,n,i,t){if(!x.isEmptyObject(n.cache)){for(var r,e,l,h,g,o,s,d,c,u,f,m,p,C=[],b=[],_=0;_<n.$tbodies.length;_++)for(c=(o=n.cache[_]).normalized.length,r=0;r<c;r++){if(0<(d=((s=(p=o.row?o.row[r]:o.normalized[r][n.columns].$row).find("td").eq(t.column).text().replace(/[ ]/g,"Â ")).match(t.regex)||[]).length)&&0<t.alignIndex)for(l=Math.min(t.alignIndex,d),h=g=e=0;e++<l;)g=(h=s.indexOf(t.align,h+1))<0?g:h;else g=s.indexOf(t.align);0<=g?(C.push(s.substring(0,g)||""),b.push(s.substring(g,s.length)||"")):(C.push(!(1<=d&&t.alignIndex>=d)&&s||""),b.push(1<=d&&t.alignIndex>=d&&s||""))}for(u=x.extend([],C).sort(function(a,n){return n.length-a.length})[0],f=x.extend([],b).sort(function(a,n){return n.length-a.length})[0],t.width=t.width||Math.floor(u.length/(u.length+f.length)*100)+t.adjust,_=0;_<n.$tbodies.length;_++)for(c=(o=n.cache[_]).normalized.length,r=0;r<c;r++)m=x(i.alignChar_wrap).length?x(i.alignChar_wrap).html(t.align)[0].outerHTML:t.align,p=o.row?o.row[r]:o.normalized[r][n.columns].$row,h=b[r].slice(t.align.length),p.find("td").eq(t.column).html('<span class="ts-align-wrap"><span class="ts-align-left">'+C[r]+'</span><span class="ts-align-right" >'+(h.length?m+h:"")+"</span></span>");i.alignChar_initialized=!0}},remove:function(a,n,i){if(!x.isEmptyObject(n.cache))for(var t,r,e,l,h=0;h<n.$tbodies.length;h++)for(r=(e=n.cache[h]).normalized.length,t=0;t<r;t++)(l=(e.row?e.row[t]:e.normalized[t][n.columns].$row).find("td").eq(i)).html(l.text().replace(/\s/g," "))}},r.addWidget({id:"alignChar",priority:100,options:{alignChar_wrap:"",alignChar_charAttrib:"data-align-char",alignChar_indexAttrib:"data-align-index",alignChar_adjustAttrib:"data-align-adjust"},init:function(a,n,i,t){t.alignChar_initialized=!1,t.alignChar_savedVars=[],r.alignChar.init(a,i,t),i.$table.on("pagerEnd refreshAlign",function(){i.$headers.filter("["+t.alignChar_charAttrib+"]").each(function(){r.alignChar.remove(a,i,this.column)}),r.alignChar.init(a,i,t)})},format:function(a,n,i){i.alignChar_initialized||n.$table.triggerHandler("refreshAlign")},remove:function(a,n,i,t){t||(n.$headers.filter("["+i.alignChar_charAttrib+"]").each(function(){r.alignChar.remove(a,n,this.column)}),i.alignChar_initialized=!1)}})})(jQuery);return jQuery;}));
