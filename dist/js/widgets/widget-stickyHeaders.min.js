(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery){
/*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) */
((C,T)=>{var w=C.tablesorter||{};function S(e,s){var t=isNaN(s.stickyHeaders_offset)?C(s.stickyHeaders_offset):[];return t.length?t.height()||0:parseInt(s.stickyHeaders_offset,10)||0}C.extend(w.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),w.addHeaderResizeEvent=function(e,s,t){if((e=C(e)[0]).config){var t=C.extend({},{timer:250},t),n=e.config,c=n.widgetOptions,i=function(e){var s,t,i,r,a,d,l=n.$headers.length;for(c.resize_flag=!0,t=[],s=0;s<l;s++)r=(i=n.$headers.eq(s)).data("savedSizes")||[0,0],a=i[0].offsetWidth,d=i[0].offsetHeight,a===r[0]&&d===r[1]||(i.data("savedSizes",[a,d]),t.push(i[0]));t.length&&!1!==e&&n.$table.triggerHandler("resize",[t]),c.resize_flag=!1};if(clearInterval(c.resize_timer),s)return c.resize_flag=!1;i(!1),c.resize_timer=setInterval(function(){c.resize_flag||i()},t.timer)}},w.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(e,s,n){if(!(s.$table.hasClass("hasStickyHeaders")||0<=C.inArray("filter",s.widgets)&&!s.$table.hasClass("hasFilters"))){var t,i,r,a,c=s.$table,o=C(n.stickyHeaders_attachTo||n.stickyHeaders_appendTo),d=s.namespace+"stickyheaders ",p=C(n.stickyHeaders_yScroll||n.stickyHeaders_attachTo||T),l=C(n.stickyHeaders_xScroll||n.stickyHeaders_attachTo||T),h=c.children("thead:first").children("tr").not(".sticky-false").children(),f=c.children("tfoot"),y=S(0,n),k=c.parent().closest("."+w.css.table).hasClass("hasStickyHeaders")?c.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],g=k.length?k.height():0,H=n.$sticky=c.clone().addClass("containsStickyHeaders "+w.css.sticky+" "+n.stickyHeaders+" "+s.namespace.slice(1)+"_extra_table").wrap('<div class="'+w.css.stickyWrap+'">'),b=H.parent().addClass(w.css.stickyHide).css({position:o.length?"absolute":"fixed",padding:parseInt(H.parent().parent().css("padding-left"),10),top:y+g,left:0,visibility:"hidden",zIndex:n.stickyHeaders_zIndex||2}),y=H.children("thead:first"),u="",_=function(e,s){for(var t,i,r,a=e.filter(":visible"),d=a.length,l=0;l<d;l++)i=s.filter(":visible").eq(l),t="border-box"===(r=a.eq(l)).css("box-sizing")?r.outerWidth():"collapse"===i.css("border-collapse")?T.getComputedStyle?parseFloat(T.getComputedStyle(r[0],null).width):(t=parseFloat(r.css("border-width")),r.outerWidth()-parseFloat(r.css("padding-left"))-parseFloat(r.css("padding-right"))-t):r.width(),i.css({width:t,"min-width":t,"max-width":t})},v=function(e){return!1===e&&k.length?c.position().left:o.length?parseInt(o.css("padding-left"),10)||0:c.offset().left-parseInt(c.css("margin-left"),10)-C(T).scrollLeft()},m=function(){b.css({left:v(),width:c.outerWidth()}),_(c,H),_(h,a)},z=function(e){var s,t,i,r,a,d,l;c.is(":visible")&&(g=k.length?k.offset().top-p.scrollTop()+k.height():0,r=c.offset(),s=S(0,n),i=(t=C.isWindow(p[0]))?p.scrollTop():k.length?parseInt(k[0].style.top,10):p.offset().top,i=o.length?i:p.scrollTop(),a=!n.stickyHeaders_includeCaption&&c.children("caption").height()||0,i=i+s+g-a,a=c.height()-(b.height()+(f.height()||0))-a,a="visible"==(r=i>r.top&&i<r.top+a?"visible":"hidden")?w.css.stickyVis:w.css.stickyHide,d=!b.hasClass(a),l={visibility:r},o.length&&(d=!0,l.top=t?i-o.offset().top:o.scrollTop()),(i=v(t))!==parseInt(b.css("left"),10)&&(d=!0,l.left=i),l.top=(l.top||0)+(!t&&k.length?k.height():s+g),d&&b.removeClass(w.css.stickyVis+" "+w.css.stickyHide).addClass(a).css(l),r===u&&!e||(m(),u=r))};if(o.length&&!o.css("position")&&o.css("position","relative"),H.attr("id")&&(H[0].id+=n.stickyHeaders_cloneId),H.find("> thead:gt(0), tr.sticky-false").hide(),H.find("> tbody, > tfoot").remove(),H.find("caption").toggle(n.stickyHeaders_includeCaption),a=y.children().children(),H.css({height:0,width:0,margin:0}),a.find("."+w.css.resizer).remove(),c.addClass("hasStickyHeaders").bind("pagerComplete"+d,function(){m()}),w.bindEvents(e,y.children().children("."+w.css.header)),n.stickyHeaders_appendTo?C(n.stickyHeaders_appendTo).append(b):c.after(b),s.onRenderHeader)for(i=(r=y.children("tr").children()).length,t=0;t<i;t++)s.onRenderHeader.apply(r.eq(t),[t,s,H]);l.add(p).unbind("scroll resize ".split(" ").join(d).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(d),function(e){z("resize"===e.type)}),s.$table.unbind("stickyHeadersUpdate"+d).bind("stickyHeadersUpdate"+d,function(){z(!0)}),n.stickyHeaders_addResizeEvent&&w.addHeaderResizeEvent(e),c.hasClass("hasFilters")&&n.filter_columnFilters&&(c.bind("filterEnd"+d,function(){var e=C(document.activeElement).closest("td"),e=e.parent().children().index(e);b.hasClass(w.css.stickyVis)&&n.stickyHeaders_filteredToTop&&(T.scrollTo(0,c.position().top),0<=e)&&s.$filters&&s.$filters.eq(e).find("a, select, input").filter(":visible").focus()}),w.filter.bindSearch(c,a.find("."+w.css.filter)),n.filter_hideFilters)&&w.filter.hideFilters(s,H),n.stickyHeaders_addResizeEvent&&c.bind("resize"+s.namespace+"stickyheaders",function(){m()}),z(!0),c.triggerHandler("stickyHeadersInit")}},remove:function(e,s,t){var i=s.namespace+"stickyheaders ";s.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(i).replace(/\s+/g," ")).next("."+w.css.stickyWrap).remove(),t.$sticky&&t.$sticky.length&&t.$sticky.remove(),C(T).add(t.stickyHeaders_xScroll).add(t.stickyHeaders_yScroll).add(t.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(i).replace(/\s+/g," ")),w.addHeaderResizeEvent(e,!0)}})})(jQuery,window);return jQuery;}));
